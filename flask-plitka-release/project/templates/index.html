<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title>–ö–∞–ª—å–∫—É–ª—è—Ç–æ—Ä –ø–ª–∏—Ç–∫–∏</title>
    <style>
        body { font-family: Arial; margin: 40px; }
        .card { background: #f0f0f0; padding: 20px; width: 400px; }
        .result { margin-top: 20px; padding: 20px; background: #e8ffe8; }
    </style>
</head>
<body>

<h2>–ö–∞–ª—å–∫—É–ª—è—Ç–æ—Ä –ø–ª–∏—Ç–∫–∏</h2>

<div class="card">
<form method="post">

    <label>–ú–æ–¥–µ–ª—å –ø–ª–∏—Ç–∫–∏:</label><br>
    <select name="tile_index">
        {% for t in Ptitle %}
            <option value="{{ loop.index0 }}">{{ t.name }} ({{ t.sizemm }})</option>
        {% endfor %}
    </select><br><br>

    <label>–ù—É–∂–Ω–∞—è –∫–≤–∞–¥—Ä–∞—Ç—É—Ä–∞ (–º¬≤):</label><br>
    <input type="number" step="0.01" name="need_m2" required><br><br>

    <label>–¶–≤–µ—Ç:</label><br>
    <select name="color">
        <option value="grey">–°–µ—Ä—ã–π</option>
        <option value="color">–¶–≤–µ—Ç–Ω–æ–π</option>
    </select><br><br>

    <button type="submit">–†–∞—Å—Å—á–∏—Ç–∞—Ç—å</button>
</form>
</div>

{% if result %}
<div class="result">
    <pre>
üì¶ –ó–∞–∫–∞–∑ –ø–ª–∏—Ç–∫–∏: {{ result.tile_name }} ({{ result.color }})
–ó–∞–ø—Ä–æ—à–µ–Ω–æ –º¬≤: {{ "%.2f"|format(result.m2_requested) }}
–†–µ–∞–ª—å–Ω—ã–µ –º¬≤ —Å –æ–∫—Ä—É–≥–ª–µ–Ω–∏–µ–º: {{ "%.2f"|format(result.m2_real) }}
–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –ø–ª–∏—Ç–æ–∫: {{ result.tiles_needed }} —à—Ç
–û–±—â–∏–π –≤–µ—Å: {{ "%.2f"|format(result.total_weight) }} –∫–≥
–°—Ç–æ–∏–º–æ—Å—Ç—å –∑–∞–∫–∞–∑–∞: {{ "%.0f"|format(result.total_price) }} ‚Ç∏
–ö–æ–ª-–≤–æ –ø–æ–¥–¥–æ–Ω–æ–≤ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ: {{ "%.0f"|format(result.kolichestvo_paddonov_nado) }} —à—Ç—É–∫, (–ø–∞–¥–¥–æ–Ω+1: {{ "%.0f"|format(result.paddon_p1) }}, –ø–∞–¥–¥–æ–Ω-1: {{ "%.0f"|format(result.paddon_m1) }})
    </pre>
</div>
{% endif %}

</body>
</html>
